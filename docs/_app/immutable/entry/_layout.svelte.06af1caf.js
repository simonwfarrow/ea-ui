import{S as ce,i as ue,s as le,D as fe,E as he,F as de,G as pe,g as ye,d as me,H as L,o as be,I as $}from"../chunks/index.aab8abc8.js";import{j as ge}from"../chunks/js-yaml.38530ef5.js";import{F as we}from"../chunks/FlowRepositoryGitHub.fbc76b32.js";import{s as H}from"../chunks/service.4f85688d.js";import{f as N}from"../chunks/flow.b20b7082.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.56c87351.js";var m=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof m<"u"&&m;m!=null&&m.self||(m.self=m);var l=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof l<"u"&&l,f={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function _e(e){return e&&DataView.prototype.isPrototypeOf(e)}if(f.arrayBuffer)var ve=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ee=ArrayBuffer.isView||function(e){return e&&ve.indexOf(Object.prototype.toString.call(e))>-1};function O(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function q(e){return typeof e!="string"&&(e=String(e)),e}function F(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return f.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}u.prototype.append=function(e,t){e=O(e),t=q(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};u.prototype.delete=function(e){delete this.map[O(e)]};u.prototype.get=function(e){return e=O(e),this.has(e)?this.map[e]:null};u.prototype.has=function(e){return this.map.hasOwnProperty(O(e))};u.prototype.set=function(e,t){this.map[O(e)]=q(t)};u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};u.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),F(e)};u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),F(e)};u.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),F(e)};f.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function B(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function J(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Ae(e){var t=new FileReader,n=J(t);return t.readAsArrayBuffer(e),n}function Te(e){var t=new FileReader,n=J(t);return t.readAsText(e),n}function je(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function k(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:f.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:f.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():f.arrayBuffer&&f.blob&&_e(e)?(this._bodyArrayBuffer=k(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ee(e))?this._bodyArrayBuffer=k(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var e=B(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=B(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Ae)}),this.text=function(){var e=B(this);if(e)return e;if(this._bodyBlob)return Te(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(je(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(Be)}),this.json=function(){return this.text().then(JSON.parse)},this}var Oe=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Se(e){var t=e.toUpperCase();return Oe.indexOf(t)>-1?t:e}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=Se(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};function Be(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),s=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(s),decodeURIComponent(i))}}),t}function Re(e){var t=new u,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var s=r.split(":"),i=s.shift().trim();if(i){var o=s.join(":").trim();t.append(i,o)}}),t}W.call(g.prototype);function p(e,t){if(!(this instanceof p))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}W.call(p.prototype);p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var De=[301,302,303,307,308];p.redirect=function(e,t){if(De.indexOf(t)===-1)throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})};var b=l.DOMException;try{new b}catch{b=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},b.prototype=Object.create(Error.prototype),b.prototype.constructor=b}function Y(e,t){return new Promise(function(n,r){var s=new g(e,t);if(s.signal&&s.signal.aborted)return r(new b("Aborted","AbortError"));var i=new XMLHttpRequest;function o(){i.abort()}i.onload=function(){var c={status:i.status,statusText:i.statusText,headers:Re(i.getAllResponseHeaders()||"")};c.url="responseURL"in i?i.responseURL:c.headers.get("X-Request-URL");var h="response"in i?i.response:i.responseText;setTimeout(function(){n(new p(h,c))},0)},i.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){r(new b("Aborted","AbortError"))},0)};function a(c){try{return c===""&&l.location.href?l.location.href:c}catch{return c}}i.open(s.method,a(s.url),!0),s.credentials==="include"?i.withCredentials=!0:s.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(f.blob?i.responseType="blob":f.arrayBuffer&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof u)?Object.getOwnPropertyNames(t.headers).forEach(function(c){i.setRequestHeader(c,q(t.headers[c]))}):s.headers.forEach(function(c,h){i.setRequestHeader(h,c)}),s.signal&&(s.signal.addEventListener("abort",o),i.onreadystatechange=function(){i.readyState===4&&s.signal.removeEventListener("abort",o)}),i.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}Y.polyfill=!0;l.fetch||(l.fetch=Y,l.Headers=u,l.Request=g,l.Response=p);const Ue=function(e){return ge.load(e)};class Pe{constructor(t,n){if(t!=null&&n!=null){const r=Ue(t);this._path=n,this.name=r.name,this.description=r.description,this.type=r.type,this.status=r.status,this.code_repo=r.code_repo,this.doc_repo=r.doc_repo,r.lean_sdlc!=null&&(this.lean_sdlc=new Le(r.lean_sdlc)),r.secrets_management!=null&&(this.secrets_management=new Ve(r.secrets_management)),this.team=r.team,r.technology!=null&&(this.technology=[],r.technology.forEach(s=>{this.technology.push(new ze(s))})),r.build_tool!=null&&(this.build_tool=new U(r.build_tool)),r.quality_stage_gates!=null&&(this.quality_stage_gates=new He(r.quality_stage_gates)),r.ci_pipelines!=null&&(this.ci_pipelines=[],r.ci_pipelines.forEach(s=>{this.ci_pipelines.push(new U(s))})),r.ops_dashboards!=null&&(this.ops_dashboards=[],r.ops_dashboards.forEach(s=>{this.ops_dashboards.push(new $e(s))})),r.interactions!=null&&(this.interactions=new Fe(r.interactions)),r.diagrams!=null&&(this.diagrams=[],r.diagrams.forEach(s=>{this.diagrams.push(new Qe(s))})),r.deployment!=null&&(this.deployment=new xe(r.deployment)),r.endpoint!=null&&(this.endpoint=new K(r.endpoint)),r.security!=null&&(this.security=new Ge(r.security))}}}class U{constructor(t){this.name=t.name,this.url=t.url}}class xe{constructor(t){this.hosting=t.hosting,this.aws_accounts=[],this.regions=[],t.aws_accounts!=null&&t.aws_accounts.forEach(n=>{this.aws_accounts.push(new qe(n))}),this.deployment_repo=t.deployment_repo,this.deployment_mechanism=t.deployment_mechanism,t.regions!=null&&(this.regions=[],t.regions.forEach(n=>{this.regions.push(new Ne(n))})),t.cd_pipelines!=null&&(this.cd_pipelines=new U(t.cd_pipelines))}}class qe{constructor(t){this.name=t.name,this.number=t.number}}class K{constructor(t){this.name=t.name,this.url=t.url,this.public=t.public,this.data_classification=t.data_classification,this.authentication=[],t.authentication!=null&&t.authentication.forEach(n=>{this.authentication.push(n)})}}class Fe{constructor(t){for(const[n,r]of Object.entries(t))this[n]=new Ie(r)}}class Ie{constructor(t){this.name=t.name,t.endpoints!=null&&(this.endpoints=new Ce(t.endpoints)),this.protocol=t.protocol,this.timeout=t.timeout,this.simulator_available=t.simulator_available,this.repo=t.repo,this.description=t.description,this.flow_direction=t.flow_direction,this.pact=t.pact,this.status=t.status}}class Ce{constructor(t){for(const[n,r]of Object.entries(t))this[n]=new K(r)}}class Le{constructor(t){this.url=t.url,this.path=t.path}}class $e{constructor(t){this.name=t.name,this.url=t.url,this.type=t.type}}class He{constructor(t){this.unit_test_coverage=t.unit_test_coverage,this.automated_acceptance_tests=t.automated_acceptance_tests,this.load_tests=t.load_tests,this.resiliency_tests=t.resiliency_tests,this.independently_deployable=t.independently_deployable}}class Ne{constructor(t){this.name=t.name,this.replicas=t.replicas,t.vpc!=null&&(this.vpc=new ke(t.vpc))}}class ke{constructor(t){this.name=t.name,this.cidr=t.cidr,this.tgw=t.tgw}}class Ve{constructor(t){this.name=t.name,this.repo=t.repo}}class Ge{constructor(t){t.transport!=null&&(this.transport=new Me(t.transport)),this.at_rest_encryption=t.at_rest_encryption}}class Me{constructor(t){this.protocol=t.protocol,this.encryption=t.encryption}}class ze{constructor(t){this.name=t.name,this.type=t.type,this.version=t.version}}class Qe{constructor(t){this.name=t.name,this.url=t.url,this.description=t.description}}async function Xe(e,t,n){return await e(`query getSDs($owner: String!, $name: String!) {
                    repository(owner: $owner, name: $name ) {
                        object(expression: "HEAD:resources/service_descriptors/") {
                          ... on Tree {
                            entries {
                              name
                              type
                              mode
                              path

                              object {
                                ... on Blob {
                                  byteSize
                                  text
                                  isBinary
                                }
                              }
                            }
                          }
                        }
                    }
                }`,{owner:t,name:n})}class Je{getServices(t){return Xe(t.connection,t.owner,t.repo).then(n=>{let r=[];return n.repository.object.entries.forEach(s=>{if(s.type==="blob"){let i=s.object.text;r.push(new Pe(i,s.path))}}),Promise.resolve(r)})}}const E={};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function V(e){return Object.prototype.toString.call(e)==="[object Object]"}function Z(e){var t,n;return V(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(V(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function I(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof E=="object"&&"version"in E?`Node.js/${E.version.substr(1)} (${E.platform}; ${E.arch})`:"<environment undetectable>"}function We(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}function ee(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{Z(t[r])?r in e?n[r]=ee(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function G(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function P(e,t,n){if(typeof t=="string"){let[s,i]=t.split(" ");n=Object.assign(i?{method:s,url:i}:{url:s},n)}else n=Object.assign({},t);n.headers=We(n.headers),G(n),G(n.headers);const r=ee(e||{},n);return e&&e.mediaType.previews.length&&(r.mediaType.previews=e.mediaType.previews.filter(s=>!r.mediaType.previews.includes(s)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(s=>s.replace(/-preview/,"")),r}function Ye(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(s=>s==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${s}=${encodeURIComponent(t[s])}`).join("&")}const Ke=/\{[^}]+\}/g;function Ze(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function et(e){const t=e.match(Ke);return t?t.map(Ze).reduce((n,r)=>n.concat(r),[]):[]}function M(e,t){return Object.keys(e).filter(n=>!t.includes(n)).reduce((n,r)=>(n[r]=e[r],n),{})}function te(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function _(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function A(e,t,n){return t=e==="+"||e==="#"?te(t):_(t),n?_(n)+"="+t:t}function w(e){return e!=null}function R(e){return e===";"||e==="&"||e==="?"}function tt(e,t,n,r){var s=e[n],i=[];if(w(s)&&s!=="")if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")s=s.toString(),r&&r!=="*"&&(s=s.substring(0,parseInt(r,10))),i.push(A(t,s,R(t)?n:""));else if(r==="*")Array.isArray(s)?s.filter(w).forEach(function(o){i.push(A(t,o,R(t)?n:""))}):Object.keys(s).forEach(function(o){w(s[o])&&i.push(A(t,s[o],o))});else{const o=[];Array.isArray(s)?s.filter(w).forEach(function(a){o.push(A(t,a))}):Object.keys(s).forEach(function(a){w(s[a])&&(o.push(_(a)),o.push(A(t,s[a].toString())))}),R(t)?i.push(_(n)+"="+o.join(",")):o.length!==0&&i.push(o.join(","))}else t===";"?w(s)&&i.push(_(n)):s===""&&(t==="&"||t==="?")?i.push(_(n)+"="):s===""&&i.push("");return i}function rt(e){return{expand:nt.bind(null,e)}}function nt(e,t){var n=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,s,i){if(s){let a="";const c=[];if(n.indexOf(s.charAt(0))!==-1&&(a=s.charAt(0),s=s.substr(1)),s.split(/,/g).forEach(function(h){var d=/([^:\*]*)(?::(\d+)|(\*))?/.exec(h);c.push(tt(t,a,d[1],d[2]||d[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(c.length!==0?a:"")+c.join(o)}else return c.join(",")}else return te(i)})}function re(e){let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),s,i=M(e,["method","baseUrl","url","headers","request","mediaType"]);const o=et(n);n=rt(n).expand(i),/^http/.test(n)||(n=e.baseUrl+n);const a=Object.keys(e).filter(d=>o.includes(d)).concat("baseUrl"),c=M(i,a);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const d=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=d.concat(e.mediaType.previews).map(C=>{const v=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${C}-preview${v}`}).join(",")}return["GET","HEAD"].includes(t)?n=Ye(n,c):"data"in c?s=c.data:Object.keys(c).length&&(s=c),!r["content-type"]&&typeof s<"u"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof s>"u"&&(s=""),Object.assign({method:t,url:n,headers:r},typeof s<"u"?{body:s}:null,e.request?{request:e.request}:null)}function st(e,t,n){return re(P(e,t,n))}function ne(e,t){const n=P(e,t),r=st.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:ne.bind(null,n),merge:P.bind(null,n),parse:re})}const it="7.0.5",ot=`octokit-endpoint.js/${it} ${I()}`,at={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":ot},mediaType:{format:"",previews:[]}},ct=ne(null,at);var ut=self.fetch.bind(self);class z extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var j={},lt={get exports(){return j},set exports(e){j=e}},ft=se;function se(e,t){if(e&&t)return se(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(r){n[r]=e[r]}),n;function n(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];var i=e.apply(this,r),o=r[r.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}var ie=ft;lt.exports=ie(S);j.strict=ie(oe);S.proto=S(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return S(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return oe(this)},configurable:!0})});function S(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function oe(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}const ht=j(e=>console.warn(e)),dt=j(e=>console.warn(e));class T extends Error{constructor(t,n,r){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let s;"headers"in r&&typeof r.headers<"u"&&(s=r.headers),"response"in r&&(this.response=r.response,s=r.response.headers);const i=Object.assign({},r.request);r.request.headers.authorization&&(i.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i,Object.defineProperty(this,"code",{get(){return ht(new z("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return dt(new z("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),s||{}}})}}const pt="6.2.3";function yt(e){return e.arrayBuffer()}function Q(e){const t=e.request&&e.request.log?e.request.log:console;(Z(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let n={},r,s;return(e.request&&e.request.fetch||globalThis.fetch||ut)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async o=>{s=o.url,r=o.status;for(const a of o.headers)n[a[0]]=a[1];if("deprecation"in n){const a=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),c=a&&a.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${c?`. See ${c}`:""}`)}if(!(r===204||r===205)){if(e.method==="HEAD"){if(r<400)return;throw new T(o.statusText,r,{response:{url:s,status:r,headers:n,data:void 0},request:e})}if(r===304)throw new T("Not modified",r,{response:{url:s,status:r,headers:n,data:await D(o)},request:e});if(r>=400){const a=await D(o);throw new T(mt(a),r,{response:{url:s,status:r,headers:n,data:a},request:e})}return D(o)}}).then(o=>({status:r,url:s,headers:n,data:o})).catch(o=>{throw o instanceof T||o.name==="AbortError"?o:new T(o.message,500,{request:e})})}async function D(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():yt(e)}function mt(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function x(e,t){const n=e.defaults(t);return Object.assign(function(s,i){const o=n.merge(s,i);if(!o.request||!o.request.hook)return Q(n.parse(o));const a=(c,h)=>Q(n.parse(n.merge(c,h)));return Object.assign(a,{endpoint:n,defaults:x.bind(null,n)}),o.request.hook(a,o)},{endpoint:n,defaults:x.bind(null,n)})}const bt=x(ct,{headers:{"user-agent":`octokit-request.js/${pt} ${I()}`}}),gt="5.0.5";function wt(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}class _t extends Error{constructor(t,n,r){super(wt(r)),this.request=t,this.headers=n,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const vt=["method","baseUrl","url","headers","request","query","mediaType"],Et=["query","method","url"],X=/\/api\/v3\/?$/;function At(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in n)if(Et.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,s=Object.keys(r).reduce((o,a)=>vt.includes(a)?(o[a]=r[a],o):(o.variables||(o.variables={}),o.variables[a]=r[a],o),{}),i=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return X.test(i)&&(s.url=i.replace(X,"/api/graphql")),e(s).then(o=>{if(o.data.errors){const a={};for(const c of Object.keys(o.headers))a[c]=o.headers[c];throw new _t(s,a,o.data)}return o.data.data})}function ae(e,t){const n=e.defaults(t);return Object.assign((s,i)=>At(n,s,i),{defaults:ae.bind(null,n),endpoint:n.endpoint})}const Tt=ae(bt,{headers:{"user-agent":`octokit-graphql.js/${gt} ${I()}`},method:"POST",url:"/graphql"});function jt(e,t){return Tt.defaults({baseUrl:e,headers:{authorization:t}})}function Ot(e){let t;const n=e[2].default,r=fe(n,e,e[1],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,i){r&&r.m(s,i),t=!0},p(s,[i]){r&&r.p&&(!t||i&2)&&he(r,n,s,s[1],t?pe(n,s[1],i,null):de(s[1]),null)},i(s){t||(ye(r,s),t=!0)},o(s){me(r,s),t=!1},d(s){r&&r.d(s)}}}function St(e,t,n){let r,s;L(e,N,c=>n(3,r=c)),L(e,H,c=>n(4,s=c));let{$$slots:i={},$$scope:o}=t,{loadingMsg:a="Loading..."}=t;return be(async()=>{n(0,a="Connecting to GitHub...");const h={connection:jt("https://github.worldpay.com/api","Bearer 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"),owner:"access-for-ecom-doc",repo:"electronic-architect"};n(0,a="Loading service resources..."),new Je().getServices(h).then(v=>{v.forEach(y=>{n(0,a=`Loading ${y.name}`),$(H,s[y.name]=y,s)}),n(0,a="Ready")}),n(0,a="Loading flow resources..."),new we().getFlows(h).then(v=>{v.forEach(y=>{n(0,a=`Loading ${y.name}`),$(N,r[y.id]=y,r)}),n(0,a="Ready")})}),e.$$set=c=>{"loadingMsg"in c&&n(0,a=c.loadingMsg),"$$scope"in c&&n(1,o=c.$$scope)},[a,o,i]}class qt extends ce{constructor(t){super(),ue(this,t,St,Ot,le,{loadingMsg:0})}}export{qt as default};
